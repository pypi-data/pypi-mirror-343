# https://taskfile.dev
# https://packaging.python.org/en/latest/tutorials/installing-packages/
# https://packaging.python.org/en/latest/tutorials/packaging-projects/#

version: "3"

vars:
  GREETING: Hello, World!

tasks:
  default:
    cmds:
      - echo "{{.GREETING}}"
    silent: true

  pip:requirements:
    cmds:
      - python3 -m pip install -r requirements.txt --break-system-packages

  pypi:clean:
    cmds:
      - rm -rf dist
      - rm -rf *.egg-info

  pypi:build:
    cmds:
      - task pypi:clean
      - python3 -m build

  pypi:upload:
    cmds:
      - python3 -m twine upload dist/*

  pypi:next:
    cmds:
      - task pypi:build
      - task pypi:upload
# conda
