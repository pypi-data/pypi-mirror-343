[tool.poetry]
name    = "satcube"
version = "0.1.1"
description = "A Python package to create cloud-free monthly composites by fusing Landsat and Sentinel-2 data."
authors = ["Cesar Aybar <fcesar.aybar@uv.es>"]
repository     = "https://github.com/IPL-UV/satcube"
documentation  = "https://ipl-uv.github.io/satcube/"
readme         = "README.md"
packages       = [{ include = "satcube" }]

[tool.poetry.dependencies]
python              = ">=3.10,<4.0"
cubexpress          = ">=0.1.2"
mlstac              = ">=0.5.0"
fastcubo            = ">=0.0.999"
satalign            = ">=0.0.999"
torch               = ">=2.0.0"
pandas              = ">=2.0.0"
pydantic            = ">=2.8.0"
earthengine-api     = ">=0.1.4.0"
numpy               = ">=1.25.0"
rasterio            = ">=1.2.0"
requests            = ">=2.26.0"
scikit-learn        = ">=1.2.0"
segmentation-models-pytorch = ">=0.3.0"
xarray              = ">=2023.7.0"

[tool.poetry.extras]
full = [
  "torch",
  "segmentation-models-pytorch",
  "scikit-learn",
  "rasterio",
  "earthengine-api",
  "fastparquet"
]

# --- tooling fixes ----------------------------------------------------------
[tool.mypy]
files                   = ["satcube"]
disallow_untyped_defs   = true
disallow_any_unimported = true
no_implicit_optional    = true
check_untyped_defs      = true
warn_return_any         = true
warn_unused_ignores     = true
show_error_codes        = true

[tool.ruff]
target-version = "py310"
line-length    = 120
fix            = true
select         = ["YTT","S","B","A","C4","T10","SIM","I","C90","E","W","F","PGH","UP","RUF","TRY"]
ignore         = ["E501","E731"]
