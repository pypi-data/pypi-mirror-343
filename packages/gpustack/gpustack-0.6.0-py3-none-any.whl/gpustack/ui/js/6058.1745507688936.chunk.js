"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6058],{92800:function(e,n,t){t.d(n,{Z:function(){return T}});var r,c=t(90228),a=t.n(c),i=t(87999),o=t.n(i),u=t(48305),l=t.n(u),s=t(53649),d=t.n(s),f=t(32246),v=t(72541),p=t(38551),h=t(40174),m=t(1956),C=t(54235),g=t(85885),E=t(83603),S=t(50959),k=t(1128),x="delete-modal-content___bdNBR",M="content___YptSA",A=t(11527),y=k.ZP.div(r||(r=d()(["\n  margin-top: 20px;\n  margin-left: 30px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  .check-text {\n    font-weight: 700;\n    color: var(--ant-color-warning);\n  }\n"]))),R=(0,S.forwardRef)((function(e,n){var t,r=(0,p.useIntl)(),c=(0,f.Z)(),i=c.saveScrollHeight,u=c.restoreScrollHeight,s=(0,S.useState)(!1),d=l()(s,2),k=d[0],R=d[1],T=(0,S.useState)(!1),w=l()(T,2),D=w[0],I=w[1],Z=(0,S.useState)({}),L=l()(Z,2),O=L[0],P=L[1];(0,S.useImperativeHandle)(n,(function(){return{show:function(e){var n;i(),P(e),I((null===(n=e.checkConfig)||void 0===n?void 0:n.defautlChecked)||!1),R(!0)},hide:function(){R(!1),u()},configuration:{checked:D}}}));var b=function(){var e;R(!1),null===(e=O.onCancel)||void 0===e||e.call(O),u()},N=function(){var e=o()(a()().mark((function e(){var n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=O.onOk)||void 0===n?void 0:n.call(O);case 2:h.ZP.success(r.formatMessage({id:"common.message.success"})),R(!1),u();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)(m.Z,{style:{top:"20%"},open:k,onOk:N,onCancel:b,destroyOnClose:!0,closeIcon:!1,maskClosable:!1,keyboard:!1,width:460,styles:{},footer:(0,A.jsxs)(C.Z,{size:20,children:[(0,A.jsx)(g.ZP,{onClick:b,size:"middle",children:O.cancelText?r.formatMessage({id:O.cancelText}):r.formatMessage({id:"common.button.cancel"})}),(0,A.jsx)(g.ZP,{type:"primary",onClick:N,size:"middle",children:O.okText?r.formatMessage({id:O.okText}):r.formatMessage({id:"common.button.delete"})})]}),children:[(0,A.jsx)("div",{className:x,children:(0,A.jsxs)("span",{className:"title",children:[(0,A.jsx)(v.Z,{}),(0,A.jsx)("span",{children:O.title?r.formatMessage({id:O.title}):r.formatMessage({id:"common.title.delete.confirm"})})]})}),(0,A.jsx)("div",{className:M,dangerouslySetInnerHTML:{__html:O.content&&r.formatMessage({id:O.operation||""},{type:r.formatMessage({id:O.content}),name:O.name})}}),O.checkConfig&&(0,A.jsx)(y,{children:(0,A.jsx)(E.Z,{checked:D,onChange:function(e){return I(e.target.checked)},children:(0,A.jsx)("span",{className:"check-text",children:r.formatMessage({id:null===(t=O.checkConfig)||void 0===t?void 0:t.checkText})})})})]})})),T=R},98817:function(e,n,t){var r=t(26068),c=t.n(r),a=t(32246),i=t(1956),o=t(50959),u=t(11527);n.Z=function(e){var n=(0,a.Z)(),t=n.saveScrollHeight,r=n.restoreScrollHeight;return o.useEffect((function(){e.open?t():r()}),[e.open]),(0,u.jsx)(i.Z,c()({},e))}},82344:function(e,n,t){t.d(n,{d4:function(){return o}});var r=t(48305),c=t.n(r),a=(0,t(58258).oc)(),i={CREATE:["Alt+Ctrl+N","Alt+Meta+N"],CLEAR:["Alt+Ctrl+K","Alt+Meta+K"],RIGHT:["Ctrl+RIGHT","Meta+RIGHT"],SAVE:["Ctrl+S","Meta+S"],SUBMIT:["Enter","Enter"],ENTER:["Enter","Enter"],SHIFT:["Shift","Shift"],CTRL:["Ctrl","Meta"],OPTION:["Alt","Option"],SAVEAS:["Alt+Ctrl+S","Alt+Meta+S"],OPEN:["Alt+Ctrl+O","Alt+Meta+O"],UNDO:["Ctrl+Z","Meta+Z"],CANCEL:["Ctrl+W","Meta+W"],DELETE:["delete"],COPY:["Ctrl+C","Meta+C"],REFRESH:["Ctrl+R","Meta+R"],EDIT:["Ctrl+E","Meta+E"],SEARCH:["Ctrl+K","Meta+K"],RESET:["Alt+Ctrl+R","Alt+Meta+R"],INPUT:["Ctrl+K","Meta+K"],NEW1:["Ctrl+1","Meta+1"],NEW2:["Ctrl+2","Meta+2"],NEW3:["Ctrl+3","Meta+3"],NEW4:["Ctrl+4","Meta+4"],FOCUS:["/","/"],ADD:["Alt+Ctrl+Enter","Alt+Meta+Enter"]},o=Object.entries(i).map((function(e){var n=c()(e,2),t=n[0],r=n[1],i=a.isMac&&r[1]||r[0];return{keybinding:i,command:t,textKeybinding:a.isMac?i.replace("Meta","Cmd").replace("Alt","Option"):i.replace("Ctrl","Ctrl"),iconKeybinding:a.isMac?i.replace("Meta","⌘").replace("Alt","⌥"):i.replace("Ctrl","Ctrl")}})).reduce((function(e,n){return e[n.command]=n,e}),{});n.ZP=i},44336:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(26068),c=t.n(r),a=t(90228),i=t.n(a),o=t(87999),u=t.n(o),l=t(15558),s=t.n(l),d=t(48305),f=t.n(d),v=t(33330),p=t(66182),h=t(61918),m=t(28967),C=t(58258),g=t(32699),E=t.n(g),S=t(28694),k=t(50959);function x(e){var n=e.fetchAPI,t=e.deleteAPI,r=e.contentForDelete,a=e.API,o=e.watch,l=e.defaultData,d=void 0===l?[]:l,g=(0,k.useRef)(null),x=(0,k.useRef)(null),M=(0,p.Z)(),A=(0,h.Z)({defaultSortOrder:"descend"}),y=A.sortOrder,R=A.setSortOrder,T=(0,k.useState)({dataList:s()(d),loading:!1,loadend:!1,total:0}),w=f()(T,2),D=w[0],I=w[1],Z=(0,k.useState)({page:1,perPage:10,search:""}),L=f()(Z,2),O=L[0],P=L[1],b=(0,v.ZP)().setChunkRequest,N=(0,m.Z)({events:["UPDATE"],dataList:D.dataList,setDataList:function(e,n){I((function(t){return{total:t.total,loading:!1,loadend:!0,dataList:e,deletedIds:(null==n?void 0:n.deletedIds)||[]}}))}}),j=N.updateChunkedList,H=N.cacheDataListRef,K=function(e){E().each(e,(function(e){j(e)}))},_=function(){var e=u()(i()().mark((function e(n){var t,r,c;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&o){e.next=2;break}return e.abrupt("return");case 2:null===(t=g.current)||void 0===t||null===(t=t.current)||void 0===t||null===(r=t.cancel)||void 0===r||r.call(t);try{c=E().omit(n||O,["page","perPage"]),g.current=b({url:"".concat(a,"?").concat(S.Z.stringify(E().pickBy(c,(function(e){return!!e})))),handler:K})}catch(e){}case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=u()(i()().mark((function e(t){var r,a,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t||{}).query,I((function(e){return e.loading=!0,c()({},e)})),e.prev=2,a=c()({},E().pickBy(r||O,(function(e){return!!e}))),e.next=6,n(a);case 6:o=e.sent,I({dataList:o.items||[],loading:!1,loadend:!0,total:o.pagination.total}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),I({dataList:[],loading:!1,loadend:!0,total:D.total});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),F=function(e){P(c()(c()({},O),e)),W({query:c()(c()({},O),e)})},U=E().debounce((function(e){F({page:1,search:e.target.value}),_(c()(c()({},O),{},{search:e.target.value}))}),350);return(0,k.useEffect)((function(){var e=function(){var e=u()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:setTimeout((function(){_()}),200);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){var e,n;null===(e=g.current)||void 0===e||null===(n=e.cancel)||void 0===n||n.call(e),H.current=[]}}),[]),{dataSource:D,rowSelection:M,sortOrder:y,queryParams:O,modalRef:x,setQueryParams:P,handleDelete:function(e,n){x.current.show(c()(c()({content:r,operation:"common.delete.single.confirm",name:e.name},n),{},{onOk:function(){return u()(i()().mark((function n(){var r;return i()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,null==t?void 0:t(e.id,c()({},null===(r=x.current)||void 0===r?void 0:r.configuration));case 3:W();case 4:case"end":return n.stop()}}),n)})))()}}))},handleDeleteBatch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x.current.show(c()(c()({content:r,operation:"common.delete.confirm",selection:!0},e),{},{onOk:function(){return u()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,C.D6)(M.selectedRowKeys,(function(e){var n;return t(e,c()({},null===(n=x.current)||void 0===n?void 0:n.configuration))}));case 4:M.clearSelections(),W();case 6:case"end":return e.stop()}}),e)})))()}}))},fetchData:W,handlePageChange:function(e,n){F({page:e,perPage:n||10})},handleTableChange:function(e,n,t){R(t.order)},handleSearch:function(){W()},handleQueryChange:F,handleNameChange:U}}},66182:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(48305),c=t.n(r),a=t(50959);function i(){var e=(0,a.useState)([]),n=c()(e,2),t=n[0],r=n[1],i=(0,a.useState)([]),o=c()(i,2),u=o[0],l=o[1],s={selectedRowKeys:t,selectedRows:u,enableSelection:!0,clearSelections:function(){r([]),l([])},onChange:function(e,n){r(e),l(n)},removeSelectedKeys:function(e){var n=t.filter((function(n){return!e.includes(n)}));return r(n),l((function(n){return n.filter((function(n){return!e.includes(n.id)}))})),n},removeSelectedKey:function(e){if(Array.isArray(e)){var n=t.filter((function(n){return!e.includes(n)}));return r(n),l((function(n){return n.filter((function(n){return!e.includes(n.id)}))})),n}var c=t.filter((function(n){return n!==e}));return r(c),l((function(n){return n.filter((function(n){return n.id!==e}))})),c}};return s}},61918:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(48305),c=t.n(r),a=t(50959);function i(e){var n=e.defaultSortOrder,t=void 0===n?"descend":n,r=(0,a.useState)(t),i=c()(r,2),o=i[0],u=i[1];return{sortOrder:o,setSortOrder:function(e){e?u(e):"descend"===t?u("ascend"):"ascend"===t&&u("descend")}}}},28967:function(e,n,t){var r=t(26068),c=t.n(r),a=t(15558),i=t.n(a),o=t(20369),u=t(50959);n.Z=function(e){var n=e.events,t=void 0===n?["CREATE","DELETE","UPDATE","INSERT"]:n,r=(0,u.useRef)(new Set),a=(0,u.useRef)(e.dataList||[]),l=(0,u.useRef)(null),s=e.limit||10;return(0,u.useEffect)((function(){a.current=i()(e.dataList||[])}),[e.dataList]),{updateChunkedList:function(n){var u,d,f,v=(null==n?void 0:n.collection)||[];null!=e&&e.computedID&&(v=null===(u=v)||void 0===u?void 0:u.map((function(n){var t;return n.id=null==e||null===(t=e.computedID)||void 0===t?void 0:t.call(e,n),n})));null!=e&&e.filterFun&&(v=null==n||null===(d=n.collection)||void 0===d?void 0:d.filter(null==e?void 0:e.filterFun));null!=e&&e.mapFun&&(v=null==n||null===(f=n.collection)||void 0===f?void 0:f.map(null==e?void 0:e.mapFun));var p,h,m,C=(null==n?void 0:n.ids)||[];if((null==n?void 0:n.type)===o._W.CREATE&&t.includes("CREATE")){var g=v.reduce((function(e,n){var t,r=null===(t=a.current)||void 0===t?void 0:t.findIndex((function(e){return e.id===n.id})),i=c()({},n);return-1===r?e.push(i):a.current[r]=i,e}),[]);a.current=[].concat(i()(g),i()(a.current)).slice(0,s)}(null==n?void 0:n.type)===o._W.DELETE&&t.includes("DELETE")&&(a.current=null===(p=a.current)||void 0===p?void 0:p.filter((function(e){return!(null!=C&&C.includes(e.id))})),function(e){r.current=new Set([].concat(i()(r.current),i()(e)))}(C),null===(h=e.setDataList)||void 0===h||h.call(e,i()(a.current),{deletedIds:i()(r.current)}));(null==n?void 0:n.type)===o._W.UPDATE&&t.includes("UPDATE")&&(null===(m=v)||void 0===m||m.forEach((function(e){var n,r=null===(n=a.current)||void 0===n?void 0:n.findIndex((function(n){return n.id===e.id})),o=c()({},e);r>-1?a.current[r]=o:-1===r&&t.includes("INSERT")&&(a.current=[o].concat(i()(a.current.slice(0,s-1))))})));clearTimeout(l.current),l.current=setTimeout((function(){var n;null===(n=e.setDataList)||void 0===n||n.call(e,i()(a.current))}),200),null!=e&&e.callback&&(null==e||e.callback(a.current))},cacheDataListRef:a,deletedIdsRef:r}}}}]);