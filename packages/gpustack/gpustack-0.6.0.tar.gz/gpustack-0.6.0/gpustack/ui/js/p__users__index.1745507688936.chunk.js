"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8882],{48660:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(35453),o=t(50959),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},l=t(52273),i=function(e,n){return o.createElement(l.Z,(0,r.Z)({},e,{ref:n,icon:a}))};var s=o.forwardRef(i)},22953:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(35453),o=t(50959),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},l=t(52273),i=function(e,n){return o.createElement(l.Z,(0,r.Z)({},e,{ref:n,icon:a}))};var s=o.forwardRef(i)},81698:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(35453),o=t(50959),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},l=t(52273),i=function(e,n){return o.createElement(l.Z,(0,r.Z)({},e,{ref:n,icon:a}))};var s=o.forwardRef(i)},59597:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(48305),o=t.n(r),a=t(26068),l=t.n(a),i=t(1404),s=t(38551),c=t(23333),u=t(85885),d=t(8964),f=t(82187),m=t.n(f),p=t(32699),v=t.n(p),h=t(11527),b=t(50959),g=function(e){var n=e.items,t=e.size,r=void 0===t?"middle":t,a=e.trigger,f=void 0===a?["hover"]:a,p=e.showText,g=e.disabled,x=e.variant,y=e.color,w=e.extra,k=e.onSelect,j=v().head(n),Z=(0,s.useIntl)(),C=function(e){var t=v().head(n);k(t.key,t)};return null!=n&&n.length?(0,h.jsx)(h.Fragment,{children:1===(null==n?void 0:n.length)?(0,h.jsx)(c.Z,{title:Z.formatMessage({id:null==j?void 0:j.label}),children:(0,h.jsx)(u.ZP,l()(l()({className:m()("dropdown-button",r),icon:null==j?void 0:j.icon,size:r},null==j?void 0:j.props),{},{onClick:C}))}):(0,h.jsx)(d.Z.Button,{disabled:g,trigger:f,type:"primary",dropdownRender:function(e){return(0,h.jsx)("div",{className:"flex flex-column ",style:{backgroundColor:"var(--color-white-1)",padding:5,alignItems:"flex-start",borderRadius:"var(--border-radius-base)",boxShadow:"var(--ant-box-shadow-secondary)"},children:v().map(v().tail(n),(function(e){return(0,b.createElement)(u.ZP,l()(l()({},e.props),{},{type:"text",size:r,icon:e.icon,key:e.key,disabled:e.disabled,onClick:function(){return function(e){var t=v().find(n,{key:e.key});k(e.key,t)}(e)},style:{width:"100%",justifyContent:"flex-start"}}),Z.formatMessage({id:e.label}))}))})},buttonsRender:function(e){var n=o()(e,2);n[0],n[1];return[(0,h.jsx)(h.Fragment,{children:p?(0,h.jsxs)(u.ZP,l()(l()({},null==j?void 0:j.props),{},{disabled:(null==j?void 0:j.disabled)||g,className:m()("dropdown-button",r),onClick:C,size:r,icon:null==j?void 0:j.icon,variant:x,color:y,children:[Z.formatMessage({id:null==j?void 0:j.label}),w]})):(0,h.jsx)(c.Z,{title:Z.formatMessage({id:null==j?void 0:j.label}),children:(0,h.jsx)(u.ZP,l()(l()({},null==j?void 0:j.props),{},{className:m()("dropdown-button",r),onClick:C,size:r,icon:null==j?void 0:j.icon,disabled:null==j?void 0:j.disabled}))},"leftButton")}),(0,h.jsx)(u.ZP,{icon:(0,h.jsx)(i.Z,{}),size:r,variant:x,color:"default",className:m()("dropdown-button",r)},"menu")]}})}):(0,h.jsx)("span",{})}},55825:function(e,n,t){var r=t(26068),o=t.n(r),a=t(48305),l=t.n(a),i=t(67825),s=t.n(i),c=t(58258),u=t(38551),d=t(68476),f=t(84682),m=t(32699),p=t(50959),v=t(11267),h=t(24447),b=t(11527),g=["label","placeholder","children","required","description","options","allowNull","isInFormItems"];n.Z=function(e){var n=e.label,t=(e.placeholder,e.children),r=e.required,a=e.description,i=e.options,x=e.allowNull,y=e.isInFormItems,w=void 0===y||y,k=s()(e,g),j=(0,u.useIntl)(),Z=(0,p.useState)(!1),C=l()(Z,2),E=C[0],S=C[1],M=(0,p.useRef)(null),R=((0,p.useRef)(null),"");if(w){var L,T,I=null===d.Z||void 0===d.Z||null===(L=d.Z.Item)||void 0===L||null===(T=L.useStatus)||void 0===T?void 0:T.call(L);R=(null==I?void 0:I.status)||""}var P=(0,p.useMemo)((function(){return null!=i&&i.length?(0,m.cloneDeep)(i).map((function(e){return e.locale&&(e.label=j.formatMessage({id:e.label})),e})):[]}),[i,j]);(0,p.useEffect)((function(){((0,c.JL)(e.value)||x&&null===e.value)&&S(!0)}),[e.value,x]);return(0,b.jsx)(h.Z,{children:(0,b.jsx)(v.Z,{className:"seal-select-wrapper",status:R,label:n,isFocus:E,required:r,description:a,disabled:e.disabled,onClick:function(){var n,t;e.disabled||E||(null===(n=M.current)||void 0===n||null===(t=n.focus)||void 0===t||t.call(n),S(!0))},children:(0,b.jsx)(f.default,o()(o()({},k),{},{ref:M,options:t?null:P,onFocus:function(n){var t;S(!0),null===(t=e.onFocus)||void 0===t||t.call(e,n)},onBlur:function(n){var t;x&&null===e.value?S(!0):e.value||S(!1),null===(t=e.onBlur)||void 0===t||t.call(e,n)},onChange:function(n,t){var r;(0,c.JL)(n)||x&&null===n?S(!0):S(!1),null===(r=e.onChange)||void 0===r||r.call(e,n,t)},notFoundContent:null,children:t}))})})}},24447:function(e,n,t){var r,o=t(53649),a=t.n(o),l=t(1128),i=t(81186),s=l.ZP.div(r||(r=a()(["\n  .seal-select-wrapper {\n    border: none;\n    box-shadow: none;\n\n    &.dropdown-visible {\n      .__wrapper__ {\n        .ant-select-selector {\n          border-bottom: none !important;\n          border-radius: ","px ","px 0 0;\n          transition: all 0.2s ease;\n\n          &::before {\n            content: '';\n            position: absolute;\n            height: 1px;\n            margin-inline: 1px;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            background-color: var(--ant-color-split);\n          }\n        }\n\n        .ant-select-dropdown {\n          box-shadow: none;\n          border-width: var(--ant-line-width);\n          border-style: var(--ant-line-type);\n          border-color: var(--ant-input-active-border-color);\n          border-top: none;\n        }\n\n        &:hover {\n          .ant-select-dropdown {\n            border-color: var(--ant-input-active-border-color);\n          }\n        }\n\n        &:focus-within {\n          border-color: var(--ant-input-active-border-color) !important;\n          outline: 0;\n          background-color: var(--ant-input-active-bg);\n        }\n      }\n    }\n\n    &:focus-within {\n      border: none;\n      box-shadow: none;\n    }\n    .__wrapper__ {\n      padding-block: 0;\n\n      .label {\n        left: ","px !important;\n        top: 11px;\n\n        &.isfoucs-has-value {\n          top: 11px;\n          transition: all 0.2s var(--seal-transition-func);\n        }\n\n        &.blur-no-value {\n          top: 21px;\n          transition: all 0.2s var(--seal-transition-func);\n        }\n\n        &.has-prefix {\n          top: 11px !important;\n        }\n      }\n      &.no-label {\n        padding-block: 0;\n\n        .ant-select-arrow {\n          top: 50%;\n        }\n\n        .ant-select-selector {\n          padding-block-start: 0 !important;\n        }\n\n        .ant-select .ant-select-selection-search {\n          top: 10px !important;\n        }\n      }\n    }\n    .ant-select-selection-overflow-item > span {\n      display: flex;\n      align-items: center;\n    }\n    .ant-select {\n      display: flex;\n      align-items: center;\n      height: 54px;\n\n      .ant-select-selection-search {\n        top: 20px !important;\n        inset-inline-start: ","px;\n      }\n      &.ant-select-multiple.ant-cascader .ant-select-selection-search {\n        top: 0 !important;\n      }\n    }\n\n    .ant-select-selector {\n      flex: 1;\n      padding-inline: ","px !important;\n      border-width: var(--ant-line-width);\n      border-style: var(--ant-line-type);\n      border-color: var(--ant-color-border);\n      border-radius: ","px;\n      height: 54px !important;\n      padding-block: 20px 0 !important;\n      box-shadow: none !important;\n\n      &:hover {\n        border-color: var(--ant-input-hover-border-color) !important;\n        transition: all 0.2s ease;\n      }\n\n      &:focus-within {\n        border-color: var(--ant-input-active-border-color) !important;\n        outline: 0;\n        background-color: var(--ant-input-active-bg);\n      }\n    }\n\n    .ant-select-multiple.ant-select-lg {\n      .ant-select-selection-search {\n        margin-inline-start: 0 !important;\n        left: 0 !important;\n      }\n    }\n\n    .ant-select-selection-item {\n      height: ","px !important;\n      padding-block: 5px !important;\n      line-height: 22px !important;\n      padding-inline-end: 0 !important;\n    }\n\n    .ant-select-auto-complete .ant-select-selector {\n      padding-inline: 0 !important;\n      flex: 1;\n    }\n\n    .ant-select-arrow {\n      top: 32px;\n    }\n\n    .ant-select-outlined.ant-select-disabled:not(.ant-select-customize-input)\n      .ant-select-selector {\n      background-color: transparent;\n    }\n\n    .ant-select-selection-search-input {\n      height: ","px !important;\n    }\n\n    &.validate-status-error {\n      .ant-select-selector {\n        border-width: var(--ant-line-width) !important;\n        border-style: var(--ant-line-type) !important;\n        border-color: var(--ant-color-error) !important;\n\n        &:hover {\n          border-color: var(--ant-color-error-border-hover) !important;\n        }\n\n        &:focus-within {\n          border-color: var(--ant-color-error) !important;\n        }\n      }\n\n      &.dropdown-visible {\n        .ant-select-dropdown {\n          border-color: var(--ant-color-error) !important;\n        }\n      }\n    }\n  }\n"])),i.HG,i.HG,i.xZ+1,i.xZ,i.xZ,i.HG,i.n1,i.n1);n.Z=s},38780:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(26068),o=t.n(r),a=t(48305),l=t.n(a),i=t(32699),s=t(92605),c=t(50959);function u(e){var n,t=e||{},r=t.options,a=t.events,u=t.defer,d=void 0===u||u,f=c.useRef(null),m=c.useRef(null),p=c.useRef(!1),v=c.useRef(null),h=c.useRef(!1),b=c.useRef(null),g=(0,s.A)({options:{update:{debounce:0},overflow:{x:"hidden"},scrollbars:{theme:(null==r?void 0:r.theme)||"os-theme-dark",autoHide:"scroll",autoHideDelay:600,clickScroll:"instant"}},events:o()({},a),defer:d}),x=l()(g,2),y=x[0],w=x[1];m.current=null==w?void 0:w(),f.current=null===(n=m.current)||void 0===n||null===(n=n.elements())||void 0===n?void 0:n.scrollEventElement;var k=c.useCallback((0,i.throttle)((function(){var e,n,t,r,o;null===(e=f.current)||void 0===e||null===(n=e.scrollTo)||void 0===n||n.call(e,{top:null===(t=f.current)||void 0===t?void 0:t.scrollHeight,behavior:"smooth"}),null===(r=m.current)||void 0===r||null===(o=r.update)||void 0===o||o.call(r)}),100),[(f.current,m.current)]),j=c.useCallback((function(){var e,n,t,r;null===(e=f.current)||void 0===e||null===(n=e.scrollTo)||void 0===n||n.call(e,{top:f.current.scrollHeight,behavior:"auto"}),null===(t=m.current)||void 0===t||null===(r=t.update)||void 0===r||r.call(t)}),[f.current,m.current]),Z=c.useCallback((function(e){h.current||(0===e?j():k())}),[k,j]),C=c.useCallback((function(){var e,n,t,r;null===(e=f.current)||void 0===e||null===(n=e.scrollTo)||void 0===n||n.call(e,{top:0,behavior:"auto"}),null===(t=m.current)||void 0===t||null===(r=t.update)||void 0===r||r.call(t)}),[f.current,m.current]),E=c.useCallback((function(e){var n,t,r,o,a,l;o=null===(n=f.current)||void 0===n?void 0:n.scrollTop,a=null===(t=f.current)||void 0===t?void 0:t.scrollHeight,l=o+(null===(r=f.current)||void 0===r?void 0:r.clientHeight)+20>=a,h.current=!l,b.current&&clearTimeout(b.current),b.current=setTimeout((function(){h.current=!1}),1500)}),[]),S=c.useCallback((function(e){if(m.current)return m.current;var n,t,r;e&&(y(e),v.current=e,p.current=!0,m.current=null==w?void 0:w(),f.current=null===(n=m.current)||void 0===n||null===(n=n.elements())||void 0===n?void 0:n.scrollEventElement,null===(t=v.current)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"wheel",E));return m.current}),[y,w]);return(0,c.useEffect)((function(){return function(){var e,n,t,r;null===(e=m.current)||void 0===e||null===(n=e.destroy)||void 0===n||n.call(e),null===(t=v.current)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"wheel",E)}}),[w]),{initialize:S,instance:m.current,scrollEventElement:f.current,initialized:p.current,generateInstance:function(){var e;m.current=null==w?void 0:w(),f.current=null===(e=m.current)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement},updateScrollerPosition:Z,updateScrollerPositionToTop:C}}},84291:function(e,n,t){t.r(n),t.d(n,{default:function(){return ae}});var r=t(90228),o=t.n(r),a=t(26068),l=t.n(a),i=t(87999),s=t.n(i),c=t(48305),u=t.n(c),d=t(16204),f=t(92800),m=t(59597),p=t(62722),v=t(20369),h=t(82344),b=t(44336),g=t(48660),x=t(69070),y=t(56838),w=t(19019),k=t(81698),j=t(22953),Z=t(67581),C=t(38551),E=t(29687),S=t(40174),M=t(23010),R=t(54235),L=t(8267),T=t(85885),I=t(82930),P=t(7672),z=t.n(P),A=t(50959),K=t(94299),O="/users";function _(e){return N.apply(this,arguments)}function N(){return(N=s()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.request)("".concat(O),{methos:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return(F=s()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.request)("".concat(O),{method:"POST",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return q.apply(this,arguments)}function q(){return(q=s()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.request)("".concat(O,"/").concat(n.data.id),{method:"PUT",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return W.apply(this,arguments)}function W(){return(W=s()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.request)("".concat(O,"/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=t(67768),Y=t(98817),J=t(39139),U=t(55825),V=t(68476),Q=t(84682),X="admin",$="user",ee=[{label:"users.form.admin",value:X},{label:"users.form.user",value:$}],ne=t(11527),te=function(e){var n=e.title,t=e.action,r=e.open,o=e.onOk,a=e.data,i=e.onCancel,s=V.Z.useForm(),c=u()(s,1)[0],d=(0,C.useIntl)(),f=function(){c.submit()};return(0,A.useEffect)((function(){t===v.Kd.EDIT&&r?c.setFieldsValue(l()(l()({},a),{},{is_admin:null!=a&&a.is_admin?X:$})):t===v.Kd.CREATE&&r&&c.setFieldsValue({is_admin:$})}),[r]),(0,ne.jsx)(Y.Z,{title:n,open:r,centered:!0,onOk:f,onCancel:i,destroyOnClose:!0,closeIcon:!1,maskClosable:!1,keyboard:!1,width:600,styles:{},footer:(0,ne.jsx)(G.Z,{onOk:f,onCancel:i}),children:(0,ne.jsxs)(V.Z,{name:"addUserForm",form:c,onFinish:o,preserve:!1,children:[(0,ne.jsx)(V.Z.Item,{name:"username",rules:[{required:!0,message:d.formatMessage({id:"common.form.rule.input"},{name:d.formatMessage({id:"common.table.name"})})}],children:(0,ne.jsx)(J.Z.Input,{label:d.formatMessage({id:"common.table.name"}),required:!0})}),(0,ne.jsx)(V.Z.Item,{name:"full_name",rules:[{required:!1}],children:(0,ne.jsx)(J.Z.Input,{trim:!1,label:d.formatMessage({id:"users.form.fullname"})})}),(0,ne.jsx)(V.Z.Item,{name:"is_admin",rules:[{required:!1}],children:(0,ne.jsx)(U.Z,{label:d.formatMessage({id:"users.table.role"}),children:ee.map((function(e){return(0,ne.jsxs)(Q.default.Option,{value:e.value,children:[e.value===X?(0,ne.jsx)(k.Z,{className:"size-16"}):(0,ne.jsx)(j.Z,{className:"size-16"}),(0,ne.jsx)("span",{className:"m-l-5",children:d.formatMessage({id:e.label})})]},e.value)}))})}),(0,ne.jsx)(V.Z.Item,{name:"password",rules:[{required:t===v.Kd.CREATE,pattern:v.tb,message:d.formatMessage({id:"users.form.rule.password"})}],children:(0,ne.jsx)(J.Z.Password,{label:d.formatMessage({id:"common.form.password"}),required:t===v.Kd.CREATE})})]})})},re=E.Z.Column,oe=[{key:"edit",label:"common.button.edit",icon:(0,ne.jsx)(g.Z,{})},{key:"delete",props:{danger:!0},label:"common.button.delete",icon:(0,ne.jsx)(x.Z,{})}],ae=function(){var e,n,t=(0,b.Z)({fetchAPI:_,deleteAPI:B,contentForDelete:"users.table.user"}),r=t.dataSource,a=t.rowSelection,i=t.queryParams,c=t.sortOrder,g=t.modalRef,P=t.handleDelete,O=t.handleDeleteBatch,N=t.fetchData,F=t.handlePageChange,q=t.handleTableChange,W=t.handleSearch,G=t.handleNameChange,Y=(0,C.useIntl)(),J=(0,A.useState)(!1),U=u()(J,2),V=U[0],Q=U[1],X=(0,A.useState)(v.Kd.CREATE),$=u()(X,2),ee=$[0],ae=$[1],le=(0,A.useState)(""),ie=u()(le,2),se=ie[0],ce=ie[1],ue=(0,A.useState)(void 0),de=u()(ue,2),fe=de[0],me=de[1],pe=function(){Q(!0),ae(v.Kd.CREATE),ce(Y.formatMessage({id:"users.form.create"}))},ve=function(){var e=s()(o()().mark((function e(n){var t;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l()(l()({},n),{},{is_admin:"admin"===n.is_admin}),e.prev=1,ee!==v.Kd.EDIT){e.next=7;break}return e.next=5,H({data:l()(l()({},t),{},{id:null==fe?void 0:fe.id})});case 5:e.next=9;break;case 7:return e.next=9,D({data:t});case 9:N(),Q(!1),S.ZP.success(Y.formatMessage({id:"common.message.success"})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),Q(!1);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}(),he=function(e,n){"edit"===e?function(e){me(e),Q(!0),ae(v.Kd.EDIT),ce(Y.formatMessage({id:"users.form.edit"}))}(n):"delete"===e&&P(l()(l()({},n),{},{name:n.username}))};return(0,K.y1)(h.ZP.CREATE,(function(){pe()}),{enabled:!V}),(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(Z._z,{ghost:!0,header:{title:Y.formatMessage({id:"users.title"}),style:{paddingInline:"var(--layout-content-header-inlinepadding)"}},extra:[],children:[(0,ne.jsx)(p.Z,{marginBottom:22,left:(0,ne.jsxs)(R.Z,{children:[(0,ne.jsx)(L.Z,{placeholder:Y.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:G}),(0,ne.jsx)(T.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:W,icon:(0,ne.jsx)(y.Z,{})})]}),right:(0,ne.jsxs)(R.Z,{size:20,children:[(0,ne.jsx)(T.ZP,{icon:(0,ne.jsx)(w.Z,{}),type:"primary",onClick:pe,children:Y.formatMessage({id:"users.button.create"})}),(0,ne.jsx)(T.ZP,{icon:(0,ne.jsx)(x.Z,{}),danger:!0,onClick:O,disabled:!a.selectedRowKeys.length,children:(0,ne.jsxs)("span",{children:[null==Y||null===(e=Y.formatMessage)||void 0===e?void 0:e.call(Y,{id:"common.button.delete"}),a.selectedRowKeys.length>0&&(0,ne.jsxs)("span",{children:["(",null===(n=a.selectedRowKeys)||void 0===n?void 0:n.length,")"]})]})})]})}),(0,ne.jsx)(I.ZP,{renderEmpty:function(e){if("Table"===e)return r.loading||!r.loadend||r.dataList.length?(0,ne.jsx)("div",{}):(0,ne.jsx)(M.Z,{image:M.Z.PRESENTED_IMAGE_SIMPLE})},children:(0,ne.jsxs)(E.Z,{dataSource:r.dataList,rowSelection:a,loading:r.loading,rowKey:"id",onChange:q,pagination:{showSizeChanger:!0,pageSize:i.perPage,current:i.page,total:r.total,hideOnSinglePage:10===i.perPage,onChange:F},children:[(0,ne.jsx)(re,{title:Y.formatMessage({id:"common.table.name"}),dataIndex:"username",ellipsis:{showTitle:!1},render:function(e,n){return(0,ne.jsx)(d.Z,{ghost:!0,minWidth:20,children:e})}},"name"),(0,ne.jsx)(re,{title:Y.formatMessage({id:"users.table.role"}),dataIndex:"role",ellipsis:{showTitle:!1},render:function(e,n){return n.is_admin?(0,ne.jsxs)(d.Z,{ghost:!0,minWidth:50,children:[(0,ne.jsx)(k.Z,{className:"size-16"}),(0,ne.jsx)("span",{className:"m-l-5",children:Y.formatMessage({id:"users.form.admin"})})]}):(0,ne.jsxs)(d.Z,{ghost:!0,minWidth:50,children:[(0,ne.jsx)(j.Z,{className:"size-16"}),(0,ne.jsx)("span",{className:"m-l-5",children:Y.formatMessage({id:"users.form.user"})})]})}},"role"),(0,ne.jsx)(re,{title:Y.formatMessage({id:"users.form.fullname"}),dataIndex:"full_name",ellipsis:{showTitle:!1},render:function(e,n){return(0,ne.jsx)(d.Z,{ghost:!0,minWidth:20,children:e})}},"full_name"),(0,ne.jsx)(re,{title:Y.formatMessage({id:"common.table.createTime"}),dataIndex:"created_at",defaultSortOrder:"descend",sortOrder:c,showSorterTooltip:!1,sorter:!1,ellipsis:{showTitle:!1},render:function(e,n){return(0,ne.jsx)(d.Z,{ghost:!0,minWidth:20,children:z()(e).format("YYYY-MM-DD HH:mm:ss")})}},"createTime"),(0,ne.jsx)(re,{title:Y.formatMessage({id:"common.table.operation"}),ellipsis:{showTitle:!1},render:function(e,n){return(0,ne.jsx)(m.Z,{items:oe,onSelect:function(e){return he(e,n)}})}},"operation")]})})]}),(0,ne.jsx)(te,{open:V,action:ee,title:se,data:fe,onCancel:function(){Q(!1)},onOk:ve}),(0,ne.jsx)(f.Z,{ref:g})]})}},94299:function(e,n,t){t.d(n,{y1:function(){return w}});var r=t(50959);t(11527);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}var a=["shift","alt","meta","mod","ctrl"],l={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function i(e){return(l[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function s(e,n){return void 0===n&&(n=","),e.split(n)}function c(e,n,t){void 0===n&&(n="+");var r=e.toLocaleLowerCase().split(n).map((function(e){return i(e)}));return o({},{alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},{keys:r.filter((function(e){return!a.includes(e)})),description:t})}"undefined"!=typeof document&&(document.addEventListener("keydown",(function(e){void 0!==e.key&&f([i(e.key),i(e.code)])})),document.addEventListener("keyup",(function(e){void 0!==e.key&&m([i(e.key),i(e.code)])}))),"undefined"!=typeof window&&window.addEventListener("blur",(function(){u.clear()}));var u=new Set;function d(e){return Array.isArray(e)}function f(e){var n=Array.isArray(e)?e:[e];u.has("meta")&&u.forEach((function(e){return!function(e){return a.includes(e)}(e)&&u.delete(e.toLowerCase())})),n.forEach((function(e){return u.add(e.toLowerCase())}))}function m(e){var n=Array.isArray(e)?e:[e];"meta"===e?u.clear():n.forEach((function(e){return u.delete(e.toLowerCase())}))}function p(e,n){var t=e.target;void 0===n&&(n=!1);var r=t&&t.tagName;return d(n)?Boolean(r&&n&&n.some((function(e){return e.toLowerCase()===r.toLowerCase()}))):Boolean(r&&n&&!0===n)}var v=function(e,n,t){void 0===t&&(t=!1);var r,o,a=n.alt,l=n.meta,s=n.mod,c=n.shift,f=n.ctrl,m=n.keys,p=e.key,v=e.code,h=e.ctrlKey,b=e.metaKey,g=e.shiftKey,x=e.altKey,y=i(v),w=p.toLowerCase();if(!(null!=m&&m.includes(y)||null!=m&&m.includes(w)||["ctrl","control","unknown","meta","alt","shift","os"].includes(y)))return!1;if(!t){if(a===!x&&"alt"!==w)return!1;if(c===!g&&"shift"!==w)return!1;if(s){if(!b&&!h)return!1}else{if(l===!b&&"meta"!==w&&"os"!==w)return!1;if(f===!h&&"ctrl"!==w&&"control"!==w)return!1}}return!(!m||1!==m.length||!m.includes(w)&&!m.includes(y))||(m?(void 0===o&&(o=","),(d(r=m)?r:r.split(o)).every((function(e){return u.has(e.trim().toLowerCase())}))):!m)},h=(0,r.createContext)(void 0);function b(e,n){return e&&n&&"object"==typeof e&&"object"==typeof n?Object.keys(e).length===Object.keys(n).length&&Object.keys(e).reduce((function(t,r){return t&&b(e[r],n[r])}),!0):e===n}var g=(0,r.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}});var x=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},y="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function w(e,n,t,o){var a=(0,r.useRef)(null),l=(0,r.useRef)(!1),u=t instanceof Array?o instanceof Array?void 0:o:t,w=d(e)?e.join(null==u?void 0:u.splitKey):e,k=t instanceof Array?t:o instanceof Array?o:void 0,j=(0,r.useCallback)(n,null!=k?k:[]),Z=(0,r.useRef)(j);Z.current=k?j:n;var C=function(e){var n=(0,r.useRef)(void 0);return b(n.current,e)||(n.current=e),n.current}(u),E=(0,r.useContext)(g).enabledScopes,S=(0,r.useContext)(h);return y((function(){if(!1!==(null==C?void 0:C.enabled)&&(e=E,n=null==C?void 0:C.scopes,0===e.length&&n||!n||e.some((function(e){return n.includes(e)}))||e.includes("*"))){var e,n,t=function(e,n){var t;if(void 0===n&&(n=!1),!p(e,["input","textarea","select"])||p(e,null==C?void 0:C.enableOnFormTags)){if(null!==a.current){var r=a.current.getRootNode();if((r instanceof Document||r instanceof ShadowRoot)&&r.activeElement!==a.current&&!a.current.contains(r.activeElement))return void x(e)}(null==(t=e.target)||!t.isContentEditable||null!=C&&C.enableOnContentEditable)&&s(w,null==C?void 0:C.splitKey).forEach((function(t){var r,o=c(t,null==C?void 0:C.combinationKey);if(v(e,o,null==C?void 0:C.ignoreModifiers)||null!=(r=o.keys)&&r.includes("*")){if(null!=C&&null!=C.ignoreEventWhen&&C.ignoreEventWhen(e))return;if(n&&l.current)return;if(function(e,n,t){("function"==typeof t&&t(e,n)||!0===t)&&e.preventDefault()}(e,o,null==C?void 0:C.preventDefault),!function(e,n,t){return"function"==typeof t?t(e,n):!0===t||void 0===t}(e,o,null==C?void 0:C.enabled))return void x(e);Z.current(e,o),n||(l.current=!0)}}))}},r=function(e){void 0!==e.key&&(f(i(e.code)),(void 0===(null==C?void 0:C.keydown)&&!0!==(null==C?void 0:C.keyup)||null!=C&&C.keydown)&&t(e))},o=function(e){void 0!==e.key&&(m(i(e.code)),l.current=!1,null!=C&&C.keyup&&t(e,!0))},d=a.current||(null==u?void 0:u.document)||document;return d.addEventListener("keyup",o),d.addEventListener("keydown",r),S&&s(w,null==C?void 0:C.splitKey).forEach((function(e){return S.addHotkey(c(e,null==C?void 0:C.combinationKey,null==C?void 0:C.description))})),function(){d.removeEventListener("keyup",o),d.removeEventListener("keydown",r),S&&s(w,null==C?void 0:C.splitKey).forEach((function(e){return S.removeHotkey(c(e,null==C?void 0:C.combinationKey,null==C?void 0:C.description))}))}}}),[w,C,E]),a}}}]);