# pyproject.toml
[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

# This section is for Poetry, a dependency management tool for Python
# It is used to manage dependencies, build packages, and publish them to PyPI
[tool.poetry]
name = "flask-api-sqlalchemy"
version = "0.1.1"
description = "Flask extension for automatically generating RESTful APIs from SQLAlchemy models"
authors = ["Sean McCarthy <sean.mccarthy@hotmail.com>"]
license = "MIT"
repository = "https://github.com/mccarthysean/flask-api-sqlalchemy"
homepage = "https://mccarthysean.dev/flask-api-sqlalchemy"
documentation = "https://mccarthysean.dev/flask-api-sqlalchemy"
readme = "README.md"
package-mode = true
keywords = ["flask", "sqlalchemy", "api", "restful"]

[tool.poetry.dependencies]
# Specify Python version explicitly to ensure consistency
python = "^3.8"
flask = ">=2.0.0"  # Flask framework
flask-sqlalchemy = "^3.1.1"
flask-restx = "^1.3.0"
marshmallow = "^3.0.0"  # Object serialization/deserialization
inflection = "^0.5.1"

[tool.poetry.group.dev.dependencies]
# Development dependencies
pytest = "^6.0"  # Testing framework
pytest-cov = "^2.10"  # Coverage reporting for pytest
ruff = "^0.11.6"

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = "test_*.py"
python_functions = "test_*"
python_classes = "Test*"
addopts = "--strict-markers -v"

# Adding Ruff configuration
[tool.ruff]
# Enable pycodestyle ('E'), Pyflakes ('F'), and import sorting ('I')
select = ["E", "F", "I"]
# Exclude a variety of commonly ignored directories
exclude = [
    ".git",
    ".pytest_cache",
    "__pycache__",
    "dist",
]
# Line length setting
line-length = 88
# Allow autofix for all enabled rules (when `--fix` is provided)
fixable = ["E", "F", "I"]
# Allow unused variables when underscore-prefixed
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"
