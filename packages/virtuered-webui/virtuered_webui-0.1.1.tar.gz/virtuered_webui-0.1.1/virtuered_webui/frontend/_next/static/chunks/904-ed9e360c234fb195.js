(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{5777:e=>{e.exports={card:"components_card__VzNcC",chartCard:"components_chartCard__7eu6m",cardTable:"components_cardTable__lUWto",cardHeader:"components_cardHeader__B2B_w",cardBody:"components_cardBody__e4ftM",sectionHeader:"components_sectionHeader__FYUwh",chartSectionHeader:"components_chartSectionHeader__saRLs",sectionHeaderFlush:"components_sectionHeaderFlush___lqjQ",sectionTitle:"components_sectionTitle__nLNmP",loading:"components_loading__lEAap",error:"components_error__dilwj",empty:"components_empty__VxnwR",emptyIcon:"components_emptyIcon__qhAE6",startScanButton:"components_startScanButton__gDjkk",outlineButton:"components_outlineButton__jVFc7",table:"components_table__AuvsC",severityHIGH:"components_severityHIGH__bpfgf",severityMEDIUM:"components_severityMEDIUM__14TKl",severityLOW:"components_severityLOW__QKPaC",progress:"components_progress__QOR5t",progressBar:"components_progressBar__cjnZa",info:"components_info__Yr63j",container:"components_container__gZjQa",title:"components_title__Y0b_e",subtitle:"components_subtitle__yXuWs",runsGrid:"components_runsGrid__232Ck",progressGrid:"components_progressGrid__YuuXp",status:"components_status__4Y__B",statusCompleted:"components_statusCompleted__Ic_rK",statusRunning:"components_statusRunning__ESLxQ",statusFailed:"components_statusFailed__JROAB",statusDefault:"components_statusDefault__15l2p",date:"components_date__0M35T",content:"components_content__8tqmD",model:"components_model__hxNfu",message:"components_message__YWo3C",header:"components_header__cKRrY",percentage:"components_percentage__EzTIO",pageHeader:"components_pageHeader__L0qQ9",actions:"components_actions__N8b1C",button:"components_button__RWwep",active:"components_active__BVett",newButton:"components_newButton__dhUFB",buttonColor:"components_buttonColor__0TCSp",buttonColorSolid:"components_buttonColorSolid__wCD7m",newButtonSize:"components_newButtonSize__UKmqX",outlineButtonColor:"components_outlineButtonColor__mWBqP",buttonNoBackground:"components_buttonNoBackground__sI_rX",filterButton:"components_filterButton__Rx7x7",tableContainer:"components_tableContainer__oa9aj",tableBody:"components_tableBody__F7K7c",tableHeader:"components_tableHeader__GD68N",tableRow:"components_tableRow__7MR6t",scansTableHeader:"components_scansTableHeader__od3Uk",scansTableRow:"components_scansTableRow__T6ta_",headerCell:"components_headerCell__Tx5bp",cell:"components_cell__VTCO8",paginationContainer:"components_paginationContainer__Ms5Gf",pageSelector:"components_pageSelector__SbNt4",resultsPerPageContainer:"components_resultsPerPageContainer___49Gc",resultsPerPageSelector:"components_resultsPerPageSelector__J9MSf",deleteButton:"components_deleteButton__i3Bum",finishedBadge:"components_finishedBadge__K7Yjg",initializingBadge:"components_initializingBadge__mIUF0",pausedBadge:"components_pausedBadge__GR0fC",cellStatus:"components_cellStatus__fsisH",resultsButton:"components_resultsButton__ExEWx",datasetGrid:"components_datasetGrid__j2kef",checkboxLabel:"components_checkboxLabel__RXfBK",policyAccordion:"components_policyAccordion__0merH",policySection:"components_policySection__f3YBD",articleSection:"components_articleSection__IRROC",searchBar:"components_searchBar__lprIl",searchInput:"components_searchInput__S_em7",policyList:"components_policyList__sQ6Jp",policyItem:"components_policyItem__hv8Rb",selected:"components_selected__aK9y2",policyInfo:"components_policyInfo__YXDXK",policyDescription:"components_policyDescription__OUIAD",checkbox:"components_checkbox__MY7ZL",datasetItem:"components_datasetItem__u48HE",subcategories:"components_subcategories__sTmW8",subcategory:"components_subcategory__U37qI",modalOverlay:"components_modalOverlay__Uzq6J",modalContent:"components_modalContent__hiw8G",modalContentWide:"components_modalContentWide__7OO2d components_modalContent__hiw8G",closeButton:"components_closeButton__4h_N_",modalActions:"components_modalActions__OvLUR",stepContainer:"components_stepContainer__qYf5e",step:"components_step__U1nAH",stepNumber:"components_stepNumber__7C_Mh",stepContent:"components_stepContent__9pSPx",modalBody:"components_modalBody__M2xrL",modelList:"components_modelList__NvY9v",logo:"components_logo__bpqY_",logoInverted:"components_logoInverted__Cr03Y",modelOption:"components_modelOption__esahM",predefinedModelOption:"components_predefinedModelOption__rNS_j",localModelSection:"components_localModelSection__xnZUe",localModelButton:"components_localModelButton__lWD7U",localModelList:"components_localModelList__407uk",noModelsMessage:"components_noModelsMessage__XseiM",scanNameSection:"components_scanNameSection__BWPGP",scanNameInput:"components_scanNameInput__b5ORa",nextButton:"components_nextButton__opW4b",cancelButton:"components_cancelButton__DeI__",backButton:"components_backButton__RlYVL",selectAllButton:"components_selectAllButton__KRBLs",doneButton:"components_doneButton__DonRN",categoryGrid:"components_categoryGrid__Y71mA",categoryButton:"components_categoryButton__s0nyK",actionButtons:"components_actionButtons__OtBO3",testButton:"components_testButton__8Q1E2",startButton:"components_startButton__nVe9T",splitView:"components_splitView__QfdQk",categoriesContainer:"components_categoriesContainer__G5V0Q",categoriesList:"components_categoriesList__ECX5A",categoryActions:"components_categoryActions__Pi6GG",categoryItem:"components_categoryItem__HyvjI",categoryItemContent:"components_categoryItemContent__Mu4od",subcategoriesPanel:"components_subcategoriesPanel__UqO4Z",subcategoriesContent:"components_subcategoriesContent__JyF23",subcategoryGroup:"components_subcategoryGroup__94fwh",subcategoryTile:"components_subcategoryTile__47HNk",subcategoriesGrid:"components_subcategoriesGrid__WmeSr",subcategoryHeader:"components_subcategoryHeader__rmM8B",subcategoryParent:"components_subcategoryParent___6x1s",expandButton:"components_expandButton__CWoCJ",modelTile:"components_modelTile__TD9f_",modelTileContent:"components_modelTileContent__gPFbU",modelTileIcon:"components_modelTileIcon__Otq_y",modelTileName:"components_modelTileName__L_7dv",modelTileModifyTime:"components_modelTileModifyTime__j9Dn0",modelTileHistoryButton:"components_modelTileHistoryButton__Zjt_j",modelsGrid:"components_modelsGrid__dCE05",progressCardsList:"components_progressCardsList__hWdJ5",progressCardContainer:"components_progressCardContainer__TAcaH",progressCard:"components_progressCard__FUnJY",progressCardContent:"components_progressCardContent__cI3hy",progressCardColumn:"components_progressCardColumn__WhfrV",progressCardField:"components_progressCardField__Axdby",progressCardLabel:"components_progressCardLabel__KmCCR",progressCardValue:"components_progressCardValue__CTHpr",progressCardPlayButton:"components_progressCardPlayButton__2N7aG",pauseButton:"components_pauseButton__JcnCG",playIcon:"components_playIcon__hV_fa",progressBarContainer:"components_progressBarContainer__Uwzl5",progressBarFill:"components_progressBarFill__n24Qf",cloudConfigForm:"components_cloudConfigForm__swQD6",formGroup:"components_formGroup__pfLir",formInput:"components_formInput__8_feE",formTextarea:"components_formTextarea__9cUKX",helpText:"components_helpText__M9oC8",cloudConfigActions:"components_cloudConfigActions__Wjvrq",selectDatasetButton:"components_selectDatasetButton__aemt_",requiredField:"components_requiredField__OHT7G",refreshButton:"components_refreshButton__9OtDm",refreshIcon:"components_refreshIcon__eyJ_n",refreshIconStatic:"components_refreshIconStatic__eNL2z",spinningIcon:"components_spinningIcon___X1Ck",spin:"components_spin__DOsd_",dashboardContainer:"components_dashboardContainer__Gju0r",welcomeCard:"components_welcomeCard__ghlMC",welcomeAvatar:"components_welcomeAvatar__4WDSN",welcomeTitle:"components_welcomeTitle__L8mBd",welcomeSubtitle:"components_welcomeSubtitle__47a4W",statsGrid:"components_statsGrid__mfCNl",statCard:"components_statCard__nXpWt",statIconContainer:"components_statIconContainer__B3YFl",statIcon:"components_statIcon__K0Wer",yellow:"components_yellow__pQa4g",pink:"components_pink__mlnjg",purple:"components_purple__MohbY",blue:"components_blue__p7ydO",statInfoText:"components_statInfoText__ePCCu",statValue:"components_statValue__gOmbw",statLabel:"components_statLabel__s3bTV",activitySection:"components_activitySection__UFjUJ",activityHeader:"components_activityHeader__KPYW4",activityTable:"components_activityTable__fcPwY",activityRow:"components_activityRow__irK24",activityTimestamp:"components_activityTimestamp__pZDDf",activityMessage:"components_activityMessage__Uer8e",truncatedMessage:"components_truncatedMessage__QzedI",showMoreLink:"components_showMoreLink__AT8d7",addModelOverlay:"components_addModelOverlay__8OoGt",addModelContent:"components_addModelContent__Er2IO",addModelHeader:"components_addModelHeader__fJSHA",addModelSubtitle:"components_addModelSubtitle__6PYjI",addModelBody:"components_addModelBody__qIsF9",addModelStep:"components_addModelStep__wMwfF",addModelStepNumber:"components_addModelStepNumber__JmfC6",addModelStepIcon:"components_addModelStepIcon__HRDTn",addModelStepTitle:"components_addModelStepTitle__sHMD0",addModelStepDescription:"components_addModelStepDescription__kVmCQ",addModelButtons:"components_addModelButtons__d3DuC",addModelDownloadButton:"components_addModelDownloadButton__bQhL0",addModelActions:"components_addModelActions__Z2wRE",addModelCloseButton:"components_addModelCloseButton__sP3TB",spinnerContainer:"components_spinnerContainer__M7nmr",localModelPanel:"components_localModelPanel__mp9Ny",modelSearchContainer:"components_modelSearchContainer__8RAzt",searchIcon:"components_searchIcon__2W4CA",modelSearchInput:"components_modelSearchInput__aWodH",modelCardContainer:"components_modelCardContainer__56KjN",modelCardGrid:"components_modelCardGrid__Pnrqn",modelCard:"components_modelCard__tLKFA",selectedCard:"components_selectedCard__StfYI",modelCardHeader:"components_modelCardHeader__8VwYu",modelHeaderRight:"components_modelHeaderRight__Rcrnh",modelName:"components_modelName__1wPaa",fadeIn:"components_fadeIn__QLmdS",modelTime:"components_modelTime__zsWU1",infoIconContainer:"components_infoIconContainer__VcP01",infoIcon:"components_infoIcon__Aojnc",tooltipContent:"components_tooltipContent__FupHY",modalityTags:"components_modalityTags__y_E_Z",modalityRow:"components_modalityRow__2mFhI",modalityHeader:"components_modalityHeader__FYAjI",inputModalities:"components_inputModalities__FXLso",outputModalities:"components_outputModalities__BNPFF",inputModalityTag:"components_inputModalityTag__qBOpp",outputModalityTag:"components_outputModalityTag__byscX",modalityIcon:"components_modalityIcon__HNQKl",modalityText:"components_modalityText__09Cs1",cloudProviderGrid:"components_cloudProviderGrid__q4WuO",cloudProviderOption:"components_cloudProviderOption__rm5LJ",modelSelectionTabs:"components_modelSelectionTabs__qy_yE",modelSelectionTab:"components_modelSelectionTab__cGEfL",predefinedModelsWrapper:"components_predefinedModelsWrapper__JKjMg",predefinedModelsTitle:"components_predefinedModelsTitle__kX_Ps",activeTooltip:"components_activeTooltip__um3bA",tooltipFadeIn:"components_tooltipFadeIn__FC4WW",modelsContainer:"components_modelsContainer__iorqo",testCard:"components_testCard__Vnn1n",testCardHeader:"components_testCardHeader__3j55e",testName:"components_testName__TZPJT",checkboxContainer:"components_checkboxContainer__Z6qYr",partialCheckmark:"components_partialCheckmark__YLEOi",testCardCheckbox:"components_testCardCheckbox__9DnBG",testCardStats:"components_testCardStats__9UUl3",testCardStat:"components_testCardStat__gRVYa",testCardStatValue:"components_testCardStatValue__HZOKT",testCardStatLabel:"components_testCardStatLabel__X0EhH",categorySelectAllContainer:"components_categorySelectAllContainer__vtJjQ",categorySelectAllButton:"components_categorySelectAllButton__KNXiZ",modalityTagsCompact:"components_modalityTagsCompact__8D1WJ",modalityRowCompact:"components_modalityRowCompact__avMsh",modalityHeaderCompact:"components_modalityHeaderCompact__irurB",testCardStatsCompact:"components_testCardStatsCompact__gAgZO",emptyStateContainer:"components_emptyStateContainer__Uo3z_",emptyStateMessage:"components_emptyStateMessage__vNxZ9",emptyStateIcon:"components_emptyStateIcon__dks1o",disabledButton:"components_disabledButton__Z4vaZ",modalCloseButton:"components_modalCloseButton__wEL3E"}},37123:(e,t,o)=>{"use strict";o.d(t,{Q:()=>s});let n=()=>window.__NEXT_PUBLIC_API_URL__||"https://api.yourproduction.com",s=new Proxy({runs:{refresh:"/datasets/refresh",testchat:"/scan/testchat",list:"/scan/list",progress:"/scan/progress",action:"/api/runs/action",filterRuns:"/scan/list",image:e=>"/scan/images/".concat(e),start:"/scan/start",pause:e=>"/scan/pause/".concat(e),resume:e=>"/scan/resume/".concat(e),delete:e=>"/scan/delete/".concat(e),info:e=>"/scan/info/".concat(e),compare:e=>"/scan/compare_scans/".concat(e),getById:e=>"/api/runs/".concat(e),merge:"/scan/merge",mergeEligible:"/scan/eligible_for_merge"},datasets:{list:"/datasets/list",refresh:"/datasets/refresh"},model:{list:"/scan/models",listAll:"/scan/filter_models",scans:e=>"/scan/list?filter_model=".concat(e),chartData:e=>"/scan/line_charts/".concat(e)},analytics:e=>"/api/analytics/".concat(e),vulnerabilities:{list:"/scan/summary/"},results:e=>"/scan/summary/".concat(e),downloadFailures:e=>"/scan/download_failures/".concat(e),generatePdf:e=>"/scan/generate_pdf/".concat(e),clientAddress:"/getclientaddress",dashboard:{stats:"/dashboard/stats",activities:"/dashboard/activities"},images:{serve:e=>"/api/images/".concat(e)}},{get(e,t){let o=n(),s=e[t];return"object"==typeof s?new Proxy(s,{get(e,t){let n=e[t];return"function"==typeof n?function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return"".concat(o).concat(n(...t))}:"".concat(o).concat(n)}}):"function"==typeof s?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"".concat(o).concat(s(...t))}:"".concat(o).concat(s)}})},45063:e=>{e.exports={spinner:"Spinner_spinner__lWskE",spinnerRing:"Spinner_spinnerRing__FAG9d",spin:"Spinner_spin__y94gD"}},48263:(e,t,o)=>{"use strict";o.d(t,{y:()=>c});var n=o(95155);o(12115);var s=o(45063),a=o.n(s);let c=e=>{let{className:t}=e;return(0,n.jsx)("div",{className:"".concat(a().spinner," ").concat(t||""),children:(0,n.jsx)("div",{className:a().spinnerRing})})}},78772:(e,t,o)=>{"use strict";o.d(t,{D:()=>g});var n=o(95155),s=o(12115),a=o(37123),c=o(5777),l=o.n(c),i=o(66766),r=o(90830),d=o.n(r);function m(e){let{isOpen:t,onClose:o,modelName:c,cloudModelName:l,apiKey:i,additionalArgs:r}=e,[m,_]=(0,s.useState)(""),[p,u]=(0,s.useState)(""),[h,g]=(0,s.useState)(!1),[y,C]=(0,s.useState)(""),x=async()=>{if(m.trim()&&c){g(!0),C(""),u("");try{let e={};l&&(e.modelname=l),i&&(e.apikey=i),(null==r?void 0:r.trim())&&r.split("\n").forEach(t=>{let[o,n]=t.split(":").map(e=>e.trim());o&&n&&(e[o]=n)});let t=l?c.replace(".py","_template"):c,o=await fetch(a.Q.runs.testchat,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:[{role:"user",content:m}],extra_args:e,model:t})});if(!o.ok)throw Error("Server error");let n=await o.json();u(n.response||n.message)}catch(e){C("There was a server error"),console.error("Test prompt error:",e)}finally{g(!1)}}};return t?(0,n.jsx)("div",{className:d().overlay,children:(0,n.jsxs)("div",{className:d().dialog,children:[(0,n.jsx)("h2",{children:"Test Model Response"}),(0,n.jsx)("textarea",{className:d().promptInput,value:m,onChange:e=>_(e.target.value),placeholder:"Enter your custom prompt here",rows:6}),y&&(0,n.jsx)("div",{className:d().error,children:y}),p&&(0,n.jsx)("div",{className:d().response,children:p}),(0,n.jsxs)("div",{className:d().buttons,children:[(0,n.jsx)("button",{className:d().testButton,onClick:x,disabled:h,children:h?"Testing...":"Test Prompt"}),(0,n.jsx)("button",{className:d().backButton,onClick:o,disabled:h,children:"Back"})]})]})}):null}var _=o(87714),p=o.n(_);function u(e){let{isOpen:t,onClose:o,onComplete:s,message:a}=e;return t?(0,n.jsx)("div",{className:p().overlay,children:(0,n.jsxs)("div",{className:p().dialog,children:[(0,n.jsx)("h2",{children:"Scan Status"}),(0,n.jsx)("div",{className:p().message,children:a}),(0,n.jsx)("button",{className:p().closeButton,onClick:()=>{o(),s()},children:"Close"})]})}):null}var h=o(51013);function g(e){var t,o;let{isOpen:c,onClose:r}=e,[d,_]=(0,s.useState)(1),[p,g]=(0,s.useState)({scanName:"",selectedCategories:[],selectedItems:{}}),[y,C]=(0,s.useState)([]),[x,v]=(0,s.useState)(!1),[f,N]=(0,s.useState)(!1),[j,b]=(0,s.useState)([]),[T,S]=(0,s.useState)(""),[I,B]=(0,s.useState)({}),[w,M]=(0,s.useState)([]),[k,A]=(0,s.useState)(!1),[L,E]=(0,s.useState)(!1),[O,R]=(0,s.useState)(""),[H,P]=(0,s.useState)(""),[F,D]=(0,s.useState)(""),[G,U]=(0,s.useState)(""),[W,Y]=(0,s.useState)(!1),[K,q]=(0,s.useState)(!1),[Q,V]=(0,s.useState)(!1),[J,z]=(0,s.useState)(null),Z=(0,s.useRef)(null),X=(0,s.useRef)(null),[$,ee]=(0,s.useState)(""),[et,eo]=(0,s.useState)("local"),[en,es]=(0,s.useState)(null),[ea,ec]=(0,s.useState)(0),[el,ei]=(0,s.useState)(!1),er=[{id:"openai",name:"OpenAI"},{id:"google",name:"Google"},{id:"together",name:"Together"},{id:"anthropic",name:"Anthropic"}],ed=(0,s.useCallback)(async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!f){e&&N(!0);try{let e=await fetch(a.Q.model.list),t=await e.json();C(t.message||t)}catch(e){console.error("Failed to fetch local models:",e)}finally{N(!1)}}},[f]);(0,s.useEffect)(()=>{c&&(_(1),g({scanName:"",selectedCategories:[],selectedItems:{}}),S(""),M([]),v(!1),P(""),D(""),U(""),eo("local"),b([]),B({}),ed(!1))},[c,ed]),(0,s.useEffect)(()=>{ed(!1)},[ed]),(0,s.useEffect)(()=>{function e(e){X.current&&X.current.contains(e.target)||Z.current&&!Z.current.contains(e.target)&&v(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let em=e=>{"local"===p.modelType?g(t=>({...t,modelType:e,modelName:void 0})):p.modelType!==e?(P(""),D(""),U(""),g(t=>({...t,modelType:e}))):g(t=>({...t,modelType:e}))},e_=e=>{P(""),D(""),U(""),z(e),g(t=>({...t,modelType:"local",modelName:e.model_file})),v(!1)},ep=async()=>{if(p.modelType&&p.scanName){if("local"!==p.modelType)return void _(4);await eM()}},eu=async e=>{p.selectedCategories.includes(e)||g(t=>({...t,selectedCategories:[...t.selectedCategories,e]})),p.selectedItems[e]||g(t=>({...t,selectedItems:{...t.selectedItems,[e]:{}}})),S(e),_(3),setTimeout(()=>{if(Array.isArray(I[e])&&I[e].length>0){let t=I[e][0];t&&M([t.name])}},0)},eh=e=>{var t,o,n;if(!(null==(t=p.selectedItems[T])?void 0:t[e]))return!1;let s=null==(o=I[T])?void 0:o.find(t=>t.name===e);if(!s)return!1;let a=[];null==(n=s.subcategories)||n.forEach(t=>{a.push("".concat(e,"/").concat(t.name)),t.items&&t.items.length>0&&a.push(...t.items.map(o=>"".concat(e,"/").concat(t.name,"/").concat(o)))});let c=p.selectedItems[T][e],l=a.every(e=>c.includes(e)),i=c.includes(e);return l&&i},eg=e=>{var t,o,n;if(!(null==(t=p.selectedItems[T])?void 0:t[e]))return!1;let s=null==(o=I[T])?void 0:o.find(t=>t.name===e);if(!s)return!1;let a=[];null==(n=s.subcategories)||n.forEach(t=>{a.push("".concat(e,"/").concat(t.name)),t.items&&t.items.length>0&&a.push(...t.items.map(o=>"".concat(e,"/").concat(t.name,"/").concat(o)))});let c=p.selectedItems[T][e],l=a.filter(e=>c.includes(e)).length,i=c.includes(e);return l>0&&l<a.length||l===a.length&&!i||0===l&&i&&a.length>0},ey=(e,t)=>{var o,n,s;if(!(null==(o=p.selectedItems[T])?void 0:o[t]))return!1;let a=p.selectedItems[T][t],c="".concat(t,"/").concat(e),l=null==(n=I[T])?void 0:n.find(e=>e.name===t);if(!l)return!1;let i=null==(s=l.subcategories)?void 0:s.find(t=>t.name===e);return i&&i.items&&0!==i.items.length?i.items.every(o=>a.includes("".concat(t,"/").concat(e,"/").concat(o)))&&a.includes(c):a.includes(c)},eC=(e,t)=>{var o,n,s;if(!(null==(o=p.selectedItems[T])?void 0:o[t]))return!1;let a=p.selectedItems[T][t],c="".concat(t,"/").concat(e),l=null==(n=I[T])?void 0:n.find(e=>e.name===t);if(!l)return!1;let i=null==(s=l.subcategories)?void 0:s.find(t=>t.name===e);if(!i||!i.items||0===i.items.length)return!1;let r=i.items.filter(o=>a.includes("".concat(t,"/").concat(e,"/").concat(o))).length,d=a.includes(c);return r>0&&r<i.items.length||r===i.items.length&&!d},ex=(e,t,o)=>{g(o=>{var n,s,a,c,l,i,r,d,m;let _=JSON.parse(JSON.stringify(o.selectedItems)),p=w.find(e=>{var t;return null==(t=I[T])?void 0:t.some(t=>t.name===e)});if(!p)return o;_[T]||(_[T]={}),_[T][p]||(_[T][p]=[]);let u=_[T][p];if(t){let o="".concat(p,"/").concat(t,"/").concat(e);if(u.includes(o))_[T][p]=u.filter(e=>e!==o),_[T][p]=_[T][p].filter(e=>e!=="".concat(p,"/").concat(t)),_[T][p]=_[T][p].filter(e=>e!==p);else{_[T][p].push(o);let e=null==(a=I[T])||null==(s=a.find(e=>e.name===p))||null==(n=s.subcategories)?void 0:n.find(e=>e.name===t);(null==e?void 0:e.items)&&e.items.every(e=>_[T][p].includes("".concat(p,"/").concat(t,"/").concat(e)))&&!_[T][p].includes("".concat(p,"/").concat(t))&&_[T][p].push("".concat(p,"/").concat(t))}}else{let t="".concat(p,"/").concat(e);if(u.includes(t)){let o=[],n=null==(i=I[T])||null==(l=i.find(e=>e.name===p))||null==(c=l.subcategories)?void 0:c.find(t=>t.name===e);(null==n?void 0:n.items)&&o.push(...n.items.map(t=>"".concat(p,"/").concat(e,"/").concat(t))),_[T][p]=u.filter(e=>e!==t&&!o.includes(e)),_[T][p]=_[T][p].filter(e=>e!==p)}else{u.includes(t)||_[T][p].push(t);let o=null==(m=I[T])||null==(d=m.find(e=>e.name===p))||null==(r=d.subcategories)?void 0:r.find(t=>t.name===e);(null==o?void 0:o.items)&&o.items.forEach(t=>{let o="".concat(p,"/").concat(e,"/").concat(t);u.includes(o)||_[T][p].push(o)})}}return 0===_[T][p].length&&(delete _[T][p],0===Object.keys(_[T]).length&&delete _[T]),{...o,selectedItems:_}}),setTimeout(()=>{ec(e=>e+1)},0)},ev=function(e){var t,o;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=null==(t=I[T])?void 0:t.find(t=>t.name===e);if(!s)return;let a=[e];null==(o=s.subcategories)||o.forEach(t=>{a.push("".concat(e,"/").concat(t.name)),t.items&&a.push(...t.items.map(o=>"".concat(e,"/").concat(t.name,"/").concat(o)))}),g(t=>{let o=JSON.parse(JSON.stringify(t.selectedItems));return o[T]||(o[T]={}),o[T][e]||(o[T][e]=[]),eh(e)&&!n?o[T][e]=[]:o[T][e]=a,{...t,selectedItems:o}})},ef=e=>!!I[e]&&!!p.selectedItems[e]&&I[e].every(t=>!!p.selectedItems[e][t.name]&&p.selectedItems[e][t.name].includes(t.name)),eN=(e,t)=>{if(t.stopPropagation(),t.target.checked){var o;let t=JSON.parse(JSON.stringify(p.selectedItems||{})),n=[...p.selectedCategories||[]];n.includes(e)||n.push(e),t[e]={},null==(o=I[e])||o.forEach(o=>{var n;t[e][o.name]=[o.name],null==(n=o.subcategories)||n.forEach(n=>{t[e][o.name].push("".concat(o.name,"/").concat(n.name)),n.items&&n.items.forEach(s=>{t[e][o.name].push("".concat(o.name,"/").concat(n.name,"/").concat(s))})})}),g(e=>({...e,selectedCategories:n,selectedItems:t}))}else{let t={...p.selectedItems};t[e]&&delete t[e];let o=p.selectedCategories.filter(t=>t!==e);g(e=>({...e,selectedCategories:o,selectedItems:t}))}setTimeout(()=>{ec(e=>e+1)},0)},ej=()=>{let e={};console.log("Final selection state:",p),Object.entries(p.selectedItems).forEach(t=>{let[o,n]=t;Object.entries(n).forEach(t=>{var n;let[s,a]=t;e[s]||(e[s]=new Set);let c=null==(n=I[o])?void 0:n.find(e=>e.name===s);Array.isArray(a)&&a.forEach(t=>{let o=t.split("/");if(o.length>=3){let t=o[0],n=o.slice(2).join("/");t===s&&n&&e[s].add(n)}else if(2===o.length&&c){var n;let t=o[1],a=null==(n=c.subcategories)?void 0:n.find(e=>e.name===t);a&&(!a.items||0===a.items.length)&&e[s].add(t)}})})});let t=Object.entries(e).filter(e=>{let[t,o]=e;return o.size>0}).map(e=>{let[t,o]=e;return{name:t,subcategories:Array.from(o)}});return console.log("Formatted payload:",t),t},eb=async()=>{if(K)return;q(!0);let e=setTimeout(()=>{V(!0)},300);try{let e={scan_name:p.scanName,model_name:"local"===p.modelType?p.modelName:"".concat(p.modelType,"_template"),datasets:ej(),continue_flag:!1},t={};if("local"!==p.modelType){let e={};G.trim()&&G.split("\n").forEach(t=>{let[o,n]=t.split(":").map(e=>e.trim());o&&n&&(e[o]=n)}),t={modelname:H,apikey:F,...e}}let o="local"===p.modelType?{...e,extra_args:{}}:{...e,extra_args:t};if(!(await fetch(a.Q.runs.start,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)throw Error("Failed to start scan");eB(),r(!0)}catch(e){console.error("Failed to start scan:",e),R("Failed to start scan. Please try again."),E(!0)}finally{clearTimeout(e),V(!1),q(!1)}},eT=e=>{M([e])},eS=e=>{M(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},eI=e=>p.selectedItems[e]&&Object.values(p.selectedItems[e]).some(e=>e.length>0),eB=()=>{g({scanName:"",selectedCategories:[],selectedItems:{}}),S(""),M([]),v(!1),P(""),D(""),U("")},ew=()=>{eB(),r(!1)},eM=async()=>{try{let e=a.Q.datasets.list;if(J&&"local"===p.modelType){let t=J.input_modalities.map(e=>"input_modalities=".concat(encodeURIComponent(e))).join("&"),o=J.output_modalities.map(e=>"output_modalities=".concat(encodeURIComponent(e))).join("&");e="".concat(e,"?").concat(t,"&").concat(o)}let t=await fetch(e),o=await t.json();if(0===Object.keys(o).length){ei(!0),b([]),B({}),_(2);return}ei(!1);let n=Object.entries(o).map(e=>{let[t,o]=e,n=o.content||o,s=o.input_modalities||["text"],a=o.output_modalities||["text"];return{name:t,input_modalities:s,output_modalities:a,subcategories:Array.isArray(n)?n:[]}}),s={};Object.entries(o).forEach(e=>{let[t,o]=e;s[t]=o.content||o}),b(n),B(s),_(2)}catch(e){console.error("Failed to fetch datasets:",e)}},ek=async()=>{if(!W){Y(!0);try{let e=await fetch(a.Q.datasets.refresh);if(!e.ok)throw Error("Failed to refresh tests");let t=await e.json();if(t.Hierarchy){let e=Object.entries(t.Hierarchy).map(e=>{let[t,o]=e,n=o.content||o,s=o.input_modalities||["text"],a=o.output_modalities||["text"];return{name:t,input_modalities:s,output_modalities:a,subcategories:Array.isArray(n)?n:[]}}),o={};if(Object.entries(t.Hierarchy).forEach(e=>{let[t,n]=e;o[t]=n.content||n}),b(e),B(o),o[T]){let e=w[0],t=o[T]||[];t.length>0&&!t.some(t=>t.name===e)&&t.length>0&&M([t[0].name])}else S(""),_(2)}}catch(e){console.error("Failed to refresh tests:",e),R("Failed to refresh tests. Please try again."),E(!0)}finally{Y(!1)}}},eA=async()=>{await eM()},eL=(0,s.useMemo)(()=>$.trim()?y.filter(e=>e.model_name.toLowerCase().includes($.toLowerCase())||e.description.toLowerCase().includes($.toLowerCase())||e.input_modalities.some(e=>e.toLowerCase().includes($.toLowerCase()))||e.output_modalities.some(e=>e.toLowerCase().includes($.toLowerCase()))):y,[y,$]),eE=e=>e.charAt(0).toUpperCase()+e.slice(1).replace(/_/g," "),eO=e=>{let t=e.toLowerCase();if(t.includes("text"))return(0,n.jsx)(h.zo4,{className:l().modalityIcon});if(t.includes("image"))return(0,n.jsx)(h.qlq,{className:l().modalityIcon});if(t.includes("audio"))return(0,n.jsx)(h.M06,{className:l().modalityIcon});if(t.includes("video"))return(0,n.jsx)(h.$0w,{className:l().modalityIcon});if(t.includes("document"))return(0,n.jsx)(h.mk,{className:l().modalityIcon});else if(t.includes("code"))return(0,n.jsx)(h.xcH,{className:l().modalityIcon});else if(t.includes("data"))return(0,n.jsx)(h.bMy,{className:l().modalityIcon});else if(t.includes("chat"))return(0,n.jsx)(h.pOp,{className:l().modalityIcon});else return null};(0,s.useEffect)(()=>{ec(e=>e+1)},[p.selectedItems]);let eR=e=>{if(!I[e])return{tests:0,subcategories:0};let t=0,o=0;return t=I[e].length,I[e].forEach(e=>{var t;null==(t=e.subcategories)||t.forEach(e=>{e.items&&e.items.length>0?o+=e.items.length:o+=1})}),{tests:t,subcategories:o}};return c?(0,n.jsxs)("div",{className:l().modalOverlay,children:[(0,n.jsxs)("div",{className:3===d?l().modalContentWide:l().modalContent,children:[(0,n.jsx)("button",{className:l().modalCloseButton,onClick:ew,"aria-label":"Close",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,n.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),1===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Select Model for Scanning"}),(0,n.jsxs)("div",{className:l().modelSelectionTabs,children:[(0,n.jsx)("button",{className:"".concat(l().modelSelectionTab," ").concat("local"===et?l().active:""),onClick:()=>{eo("local"),0===y.length&&ed()},children:"Local Models"}),(0,n.jsx)("button",{className:"".concat(l().modelSelectionTab," ").concat("cloud"===et?l().active:""),onClick:()=>eo("cloud"),children:"Cloud Providers"})]}),"local"===et?(0,n.jsxs)("div",{className:l().modelsContainer,children:[(0,n.jsxs)("div",{className:l().modelSearchContainer,children:[(0,n.jsx)("input",{type:"text",className:l().modelSearchInput,placeholder:"Search models, modalities, descriptions...",value:$,onChange:e=>ee(e.target.value),autoFocus:!0}),(0,n.jsx)("div",{className:l().searchIcon,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,n.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]}),(0,n.jsx)("div",{className:l().modelCardContainer,children:eL.length>0?(0,n.jsx)("div",{className:l().modelCardGrid,children:eL.map(e=>(0,n.jsxs)("div",{className:"".concat(l().modelCard," ").concat(p.modelName===e.model_file?l().selectedCard:""),onClick:()=>e_(e),children:[(0,n.jsxs)("div",{className:l().modelCardHeader,children:[(0,n.jsx)("div",{className:l().modelName,children:e.model_name}),(0,n.jsxs)("div",{className:l().modelHeaderRight,children:[(0,n.jsx)("div",{className:l().modelTime,children:new Date(e.time).toLocaleDateString()}),(0,n.jsx)("div",{className:l().infoIconContainer,onMouseEnter:t=>{let o=t.currentTarget.getBoundingClientRect();es({modelId:e.model_file,text:e.description||"No description available",x:o.left-10,y:o.top})},onMouseLeave:()=>es(null),children:(0,n.jsx)(h.TBY,{className:l().infoIcon,"aria-hidden":"true"})})]})]}),(0,n.jsxs)("div",{className:l().modalityTags,children:[(0,n.jsxs)("div",{className:l().modalityRow,children:[(0,n.jsx)("div",{className:l().modalityHeader,children:"INPUT:"}),(0,n.jsx)("div",{className:l().inputModalities,children:e.input_modalities.map((e,t)=>(0,n.jsxs)("span",{className:l().inputModalityTag,children:[eO(e),(0,n.jsx)("span",{className:l().modalityText,children:eE(e)})]},"in-".concat(t)))})]}),(0,n.jsxs)("div",{className:l().modalityRow,children:[(0,n.jsx)("div",{className:l().modalityHeader,children:"OUTPUT:"}),(0,n.jsx)("div",{className:l().outputModalities,children:e.output_modalities.map((e,t)=>(0,n.jsxs)("span",{className:l().outputModalityTag,children:[eO(e),(0,n.jsx)("span",{className:l().modalityText,children:eE(e)})]},"out-".concat(t)))})]})]})]},e.model_file))}):(0,n.jsx)("div",{className:l().noModelsMessage,children:$?"No models match your search":"No Local Models Found"})})]}):(0,n.jsx)("div",{className:l().cloudProviderGrid,children:er.map(e=>(0,n.jsxs)("button",{className:"".concat(l().cloudProviderOption," ").concat(p.modelType===e.id?l().selected:""),onClick:()=>em(e.id),children:[(0,n.jsx)(i.default,{src:"/images/logos/".concat(e.id.toLowerCase(),"_logo.svg"),alt:"".concat(e.name," Logo"),className:l().logo,width:24,height:24}),e.name]},e.id))}),(0,n.jsxs)("div",{className:l().scanNameSection,children:[(0,n.jsx)("label",{htmlFor:"scanName",children:"Name Your Scan:"}),(0,n.jsx)("input",{id:"scanName",type:"text",placeholder:"Enter Scan Name",value:p.scanName,onChange:e=>g(t=>({...t,scanName:e.target.value})),className:l().scanNameInput})]}),(0,n.jsxs)("div",{className:l().modalActions,children:[(0,n.jsx)("button",{className:l().nextButton,onClick:ep,disabled:!p.modelType||!p.scanName,children:"Next"}),(0,n.jsx)("button",{className:l().cancelButton,onClick:ew,children:"Cancel"})]})]}):2===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Select Available Tests"}),el?(0,n.jsx)("div",{className:l().emptyStateContainer,children:(0,n.jsxs)("div",{className:l().emptyStateMessage,children:[(0,n.jsx)(h.TBY,{className:l().emptyStateIcon}),(0,n.jsx)("p",{children:"Oops! No tests match the input and output modalities of the selected model."})]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:l().categorySelectAllContainer,children:(0,n.jsx)("button",{className:l().categorySelectAllButton,onClick:()=>{if(j.every(e=>ef(e.name)))g(e=>({...e,selectedCategories:[],selectedItems:{}}));else{let e={},t=[];j.forEach(o=>{I[o.name]&&(t.push(o.name),e[o.name]={},I[o.name].forEach(t=>{var n;e[o.name][t.name]=[t.name],null==(n=t.subcategories)||n.forEach(n=>{e[o.name][t.name].push("".concat(t.name,"/").concat(n.name)),n.items&&n.items.forEach(s=>{e[o.name][t.name].push("".concat(t.name,"/").concat(n.name,"/").concat(s))})})}))}),g({scanName:p.scanName,modelType:p.modelType,modelName:p.modelName,selectedCategories:t,selectedItems:e})}},children:j.every(e=>ef(e.name))?"Deselect All Tests":"Select All Tests"})}),(0,n.jsx)("div",{className:l().categoryGrid,children:j.map(e=>{let{tests:t,subcategories:o}=eR(e.name),s=eI(e.name),a=ef(e.name);return(0,n.jsxs)("div",{className:"".concat(l().testCard," ").concat(s?l().selected:""),onClick:()=>eu(e.name),children:[(0,n.jsxs)("div",{className:l().testCardHeader,children:[(0,n.jsx)("div",{className:l().testName,children:e.name}),(0,n.jsx)("div",{className:l().checkboxContainer,children:(0,n.jsx)("input",{type:"checkbox",className:l().checkbox,checked:a,onChange:t=>eN(e.name,t),onClick:e=>e.stopPropagation()})})]}),e.input_modalities&&e.output_modalities&&(0,n.jsxs)("div",{className:l().modalityTagsCompact,children:[(0,n.jsxs)("div",{className:l().modalityRowCompact,children:[(0,n.jsx)("span",{className:l().modalityHeaderCompact,children:"INPUT:"}),(0,n.jsx)("div",{className:l().inputModalities,children:e.input_modalities.map((e,t)=>(0,n.jsxs)("span",{className:l().inputModalityTag,children:[eO(e),(0,n.jsx)("span",{className:l().modalityText,children:eE(e)})]},"in-".concat(t)))})]}),(0,n.jsxs)("div",{className:l().modalityRowCompact,children:[(0,n.jsx)("span",{className:l().modalityHeaderCompact,children:"OUTPUT:"}),(0,n.jsx)("div",{className:l().outputModalities,children:e.output_modalities.map((e,t)=>(0,n.jsxs)("span",{className:l().outputModalityTag,children:[eO(e),(0,n.jsx)("span",{className:l().modalityText,children:eE(e)})]},"out-".concat(t)))})]})]}),(0,n.jsxs)("div",{className:l().testCardStatsCompact,children:[(0,n.jsxs)("div",{className:l().testCardStat,children:[(0,n.jsx)("span",{className:l().testCardStatValue,children:t}),(0,n.jsx)("span",{className:l().testCardStatLabel,children:"TESTS"})]}),(0,n.jsxs)("div",{className:l().testCardStat,children:[(0,n.jsx)("span",{className:l().testCardStatValue,children:o}),(0,n.jsx)("span",{className:l().testCardStatLabel,children:"SUBCATEGORIES"})]})]})]},e.name)})})]}),(0,n.jsxs)("div",{className:l().actionButtons,children:[(0,n.jsx)("button",{className:"".concat(l().testButton," ").concat(el?l().disabledButton:""),onClick:()=>{A(!0)},disabled:el,children:"Test Model Response"}),(0,n.jsx)("button",{className:"".concat(l().startButton," ").concat(el?l().disabledButton:""),onClick:eb,disabled:!Object.values(p.selectedItems).some(e=>Object.values(e).some(e=>e.length>0))||K||el,children:Q?(0,n.jsxs)("span",{className:l().spinnerContainer,children:[(0,n.jsx)("svg",{className:l().spinningIcon,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})}),"Starting Scan..."]}):"Start Scanning"})]}),(0,n.jsxs)("div",{className:l().modalActions,children:[(0,n.jsx)("button",{className:l().backButton,onClick:()=>_("local"===p.modelType?1:4),children:"Back"}),(0,n.jsx)("button",{className:l().cancelButton,onClick:ew,children:"Cancel"})]})]}):3===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h2",{children:["SELECT TESTS OF ",T.toUpperCase()]}),(0,n.jsxs)("div",{className:l().splitView,children:[(0,n.jsxs)("div",{className:l().categoriesContainer,children:[(0,n.jsx)("div",{className:l().categoriesList,children:Array.isArray(I[T])&&I[T].map(e=>(0,n.jsx)("div",{className:"".concat(l().categoryItem," ").concat(w.includes(e.name)?l().active:""),onClick:t=>{ev(e.name),eT(e.name)},onMouseEnter:t=>{eT(e.name)},children:(0,n.jsxs)("div",{className:l().categoryItemContent,children:[(0,n.jsxs)("div",{className:l().checkboxContainer,children:[(0,n.jsx)("input",{type:"checkbox",className:l().checkbox,checked:eh(e.name)||eg(e.name),onChange:t=>{t.stopPropagation(),ev(e.name),eT(e.name)},style:{opacity:+!eg(e.name)}}),eg(e.name)&&(0,n.jsx)("div",{className:l().partialCheckmark})]}),(0,n.jsx)("span",{children:e.name})]})},e.name))}),(0,n.jsxs)("div",{className:l().categoryActions,children:["Customized Tests"===T&&(0,n.jsxs)("button",{className:l().refreshButton,onClick:ek,disabled:W,children:["Refresh Tests",W?(0,n.jsx)("span",{className:l().refreshIcon,children:(0,n.jsx)("svg",{className:l().spinningIcon,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})})}):(0,n.jsx)("span",{className:l().refreshIconStatic,children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})})})]}),(0,n.jsx)("button",{className:l().selectAllButton,onClick:()=>{if(3===d&&Array.isArray(I[T]))if(eh(I[T][0].name)){let e=w[0];g(e=>({...e,selectedItems:{...e.selectedItems,[T]:{}}})),M([]),setTimeout(()=>M([e]),0)}else I[T].forEach(e=>{ev(e.name,!0)})},children:"Select All"}),(0,n.jsx)("button",{className:l().doneButton,onClick:()=>_(2),children:"Back"})]})]}),(0,n.jsx)("div",{className:l().subcategoriesPanel,children:(0,n.jsx)("div",{className:l().subcategoriesContent,children:Array.isArray(I[T])&&(null==(o=I[T].find(e=>w.includes(e.name)))||null==(t=o.subcategories)?void 0:t.map(e=>{if(!(e.items&&e.items.length>0)){var t,o,s,a;return(0,n.jsxs)("div",{className:"".concat(l().subcategoryTile," ").concat((null==(o=p.selectedItems[T])||null==(t=o[w[0]])?void 0:t.includes("".concat(w[0],"/").concat(e.name)))?l().selected:""),onClick:t=>{t.target instanceof HTMLInputElement&&"checkbox"===t.target.type||ex(e.name,void 0,e.items)},children:[(0,n.jsx)("input",{type:"checkbox",className:l().checkbox,checked:!!(null==(a=p.selectedItems[T])||null==(s=a[w[0]])?void 0:s.includes("".concat(w[0],"/").concat(e.name))),onChange:t=>{t.stopPropagation(),ex(e.name,void 0,e.items)}}),(0,n.jsx)("span",{children:e.name})]},e.name)}let c=ey(e.name,w[0]),i=eC(e.name,w[0]);return(0,n.jsxs)("div",{className:l().subcategoryGroup,children:[(0,n.jsx)("div",{className:l().subcategoryHeader,children:(0,n.jsxs)("div",{className:l().subcategoryParent,onClick:t=>{t.target instanceof HTMLInputElement&&"checkbox"===t.target.type||eS(e.name)},children:[(0,n.jsxs)("div",{className:l().checkboxContainer,children:[(0,n.jsx)("input",{type:"checkbox",className:l().checkbox,checked:c||i,onChange:t=>{t.stopPropagation(),ex(e.name,void 0,e.items)},style:{opacity:+!i}}),i&&(0,n.jsx)("div",{className:l().partialCheckmark})]}),(0,n.jsx)("span",{children:e.name}),(0,n.jsx)("button",{className:l().expandButton,onClick:t=>{eS(e.name)},children:w.includes(e.name)?"▼":"▶"})]})}),w.includes(e.name)&&e.items&&(0,n.jsx)("div",{className:l().subcategoriesGrid,children:e.items.map(t=>{var o,s;let a="".concat(w[0],"/").concat(e.name,"/").concat(t),c=null==(s=p.selectedItems[T])||null==(o=s[w[0]])?void 0:o.includes(a);return(0,n.jsxs)("div",{className:"".concat(l().subcategoryTile," ").concat(c?l().selected:""),onClick:o=>{o.target instanceof HTMLInputElement&&"checkbox"===o.target.type||ex(t,e.name,void 0)},children:[(0,n.jsx)("input",{type:"checkbox",className:l().checkbox,checked:c,onChange:o=>{ex(t,e.name,void 0)}}),(0,n.jsx)("span",{children:t})]},"".concat(t,"_").concat(ea))})})]},"".concat(e.name,"_parent_").concat(ea))}))})})]})]}):4===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Configure Cloud Model"}),(0,n.jsxs)("div",{className:l().cloudConfigForm,children:[(0,n.jsxs)("div",{className:l().formGroup,children:[(0,n.jsxs)("label",{htmlFor:"cloudModelName",children:["Model Name: ",(0,n.jsx)("span",{className:l().requiredField,children:"*"})]}),(0,n.jsx)("input",{id:"cloudModelName",type:"text",placeholder:"Enter Model Name",value:H,onChange:e=>P(e.target.value),className:l().formInput,required:!0})]}),(0,n.jsxs)("div",{className:l().formGroup,children:[(0,n.jsxs)("label",{htmlFor:"apiKey",children:[(()=>{let e=er.find(e=>e.id===p.modelType);return e?e.name:""})()," API Key:"," ",(0,n.jsx)("span",{className:l().requiredField,children:"*"})]}),(0,n.jsx)("input",{id:"apiKey",type:"text",placeholder:"Enter API Key",value:F,onChange:e=>D(e.target.value),className:l().formInput,required:!0})]}),(0,n.jsxs)("div",{className:l().formGroup,children:[(0,n.jsx)("label",{htmlFor:"additionalArgs",children:"Additional Arguments:"}),(0,n.jsx)("textarea",{id:"additionalArgs",placeholder:"Enter key:value pairs (one per line)",value:G,onChange:e=>U(e.target.value),className:l().formTextarea,rows:4}),(0,n.jsx)("small",{className:l().helpText,children:"Example: top_p: 0.7"})]})]}),(0,n.jsx)("div",{className:l().cloudConfigActions,children:(0,n.jsx)("button",{className:l().selectDatasetButton,onClick:eA,disabled:!H||!F,children:"Select Tests"})}),(0,n.jsxs)("div",{className:l().modalActions,children:[(0,n.jsx)("button",{className:l().backButton,onClick:()=>_(1),children:"Back"}),(0,n.jsx)("button",{className:l().cancelButton,onClick:ew,children:"Cancel"})]})]}):null]}),2===d&&(0,n.jsx)(m,{isOpen:k,onClose:()=>A(!1),modelName:"local"===p.modelType?p.modelName||"":"".concat(p.modelType,".py"),cloudModelName:"local"!==p.modelType?H:void 0,apiKey:"local"!==p.modelType?F:void 0,additionalArgs:"local"!==p.modelType?G:void 0}),L&&(0,n.jsx)(u,{isOpen:L,onClose:()=>E(!1),onComplete:ew,message:O}),en&&(0,n.jsx)("div",{className:l().activeTooltip,style:{top:en.y-10,left:en.x},children:en.text})]}):null}},87714:e=>{e.exports={overlay:"ResponseDialog_overlay__KBSvP",dialog:"ResponseDialog_dialog__qLzK8",message:"ResponseDialog_message___r0su",closeButton:"ResponseDialog_closeButton__ZQXtv"}},90830:e=>{e.exports={overlay:"TestResponseDialog_overlay__AQCaE",dialog:"TestResponseDialog_dialog__GDYAo",promptInput:"TestResponseDialog_promptInput__K2Ee5",response:"TestResponseDialog_response__gdIRZ",error:"TestResponseDialog_error__0bC4w",buttons:"TestResponseDialog_buttons__zub0L",testButton:"TestResponseDialog_testButton__Z1bts",backButton:"TestResponseDialog_backButton__NsYr9"}}}]);